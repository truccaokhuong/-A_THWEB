# PHÃ‚N TÃCH CHI TIáº¾T QUYá»€N Háº NG THEO ROLE - TH_WEB

## ğŸ”´ **SUPERADMIN** - Quyá»n cao nháº¥t
**Permissions**: ALL (19 permissions)
```
âœ… System Management, User Management, Role Management, System Config
âœ… Hotel Manage, Room Manage, Attraction Manage, Car Rental Manage
âœ… Travel Package Manage, Booking Manage, Review Moderate
âœ… Report View/Generate/Export, Finance View/Manage, Payment Process
âœ… Content View/Create/Edit/Delete/Publish
```

**CÃ³ thá»ƒ lÃ m**: 
- Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng
- Táº¡o/sá»­a/xÃ³a users vÃ  roles
- Truy cáº­p táº¥t cáº£ modules
- Xem táº¥t cáº£ bÃ¡o cÃ¡o vÃ  tÃ i chÃ­nh

---

## ğŸŸ  **ADMIN** - Quáº£n trá»‹ viÃªn
**Permissions**: 15 permissions (trá»« System Management)
```
âœ… User Management, Hotel Manage, Room Manage, Attraction Manage
âœ… Car Rental Manage, Travel Package Manage, Booking Manage
âœ… Review Moderate, Report View/Generate, Finance View
âœ… Content View/Create/Edit/Delete/Publish
âŒ System Management, System Config, Finance Manage, Payment Process
```

**CÃ³ thá»ƒ lÃ m**:
- Quáº£n lÃ½ users nhÆ°ng khÃ´ng thá»ƒ thay Ä‘á»•i cáº¥u hÃ¬nh há»‡ thá»‘ng
- Quáº£n lÃ½ táº¥t cáº£ business modules
- Xem bÃ¡o cÃ¡o nhÆ°ng khÃ´ng quáº£n lÃ½ tÃ i chÃ­nh
- Quáº£n lÃ½ ná»™i dung hoÃ n toÃ n

---

## ğŸ”µ **HOTELMANAGER** - Quáº£n lÃ½ khÃ¡ch sáº¡n
**Permissions**: 8 permissions
```
âœ… Hotel View/Edit, Room Manage, Booking View/Edit
âœ… Review View, Report View, Content View/Edit
âŒ Hotel Create/Delete, System functions, Finance
```

**CÃ³ thá»ƒ lÃ m**:
- Chá»‰nh sá»­a thÃ´ng tin khÃ¡ch sáº¡n (khÃ´ng táº¡o má»›i)
- Quáº£n lÃ½ phÃ²ng hoÃ n thoÃ n
- Xem vÃ  chá»‰nh sá»­a bookings
- Xem reviews vÃ  reports
- Chá»‰nh sá»­a ná»™i dung

---

## ğŸŸ£ **ATTRACTIONMANAGER** - Quáº£n lÃ½ Ä‘iá»ƒm tham quan  
**Permissions**: 7 permissions
```
âœ… Attraction View/Edit, Booking View/Edit
âœ… Review View, Report View, Content View/Edit
âŒ Attraction Create/Delete, System functions
```

**CÃ³ thá»ƒ lÃ m**:
- Chá»‰nh sá»­a thÃ´ng tin Ä‘iá»ƒm tham quan
- Quáº£n lÃ½ bookings cá»§a attractions
- Xem reviews vÃ  táº¡o reports
- Quáº£n lÃ½ ná»™i dung liÃªn quan

---

## ğŸŸ¢ **CARRENTALMANAGER** - Quáº£n lÃ½ thuÃª xe
**Permissions**: 7 permissions  
```
âœ… Car Rental View/Edit, Booking View/Edit
âœ… Review View, Report View, Content View/Edit
âŒ Car Rental Create/Delete, System functions
```

**CÃ³ thá»ƒ lÃ m**:
- Chá»‰nh sá»­a thÃ´ng tin xe cho thuÃª
- Quáº£n lÃ½ bookings thuÃª xe
- Xem reviews vÃ  reports
- Quáº£n lÃ½ ná»™i dung

---

## ğŸŸ¡ **HOTELSTAFF** - NhÃ¢n viÃªn khÃ¡ch sáº¡n
**Permissions**: 6 permissions
```
âœ… Hotel View, Room View/Edit, Booking View/Edit
âœ… Review View, Content View
âŒ Hotel Edit/Delete, Management functions
```

**CÃ³ thá»ƒ lÃ m**:
- Xem thÃ´ng tin khÃ¡ch sáº¡n
- Chá»‰nh sá»­a thÃ´ng tin phÃ²ng
- Xá»­ lÃ½ bookings hÃ ng ngÃ y
- Xem reviews tá»« khÃ¡ch

---

## ğŸ”µ **CUSTOMERSERVICE** - Dá»‹ch vá»¥ khÃ¡ch hÃ ng
**Permissions**: 7 permissions
```
âœ… Booking View/Edit/Cancel
âœ… Hotel View, Room View, Attraction View, Car Rental View
âœ… Review View, Content View
âŒ Create/Delete functions, Management
```

**CÃ³ thá»ƒ lÃ m**:
- Há»— trá»£ khÃ¡ch hÃ ng vá»›i bookings
- Xem táº¥t cáº£ dá»‹ch vá»¥ Ä‘á»ƒ tÆ° váº¥n
- Há»§y booking khi cáº§n
- Xem reviews Ä‘á»ƒ há»— trá»£

---

## ğŸŸ¢ **CUSTOMER** - KhÃ¡ch hÃ ng thÆ°á»ng
**Permissions**: 9 permissions
```
âœ… Hotel/Room/Attraction/Car Rental/Travel Package View
âœ… Booking Create/View, Review Create/Edit, Content View
âŒ Management functions, Delete operations
```

**CÃ³ thá»ƒ lÃ m**:
- Xem táº¥t cáº£ dá»‹ch vá»¥
- Táº¡o bookings
- Viáº¿t vÃ  chá»‰nh sá»­a reviews cá»§a mÃ¬nh
- Xem ná»™i dung

---

## ğŸŒŸ **PREMIUMCUSTOMER** - KhÃ¡ch hÃ ng VIP
**Permissions**: 11 permissions (Customer + extras)
```
âœ… Táº¥t cáº£ quyá»n cá»§a Customer
âœ… Booking Edit, Content Create
âŒ Management functions, Delete operations  
```

**CÃ³ thá»ƒ lÃ m**:
- Táº¥t cáº£ nhÆ° Customer
- Chá»‰nh sá»­a bookings cá»§a mÃ¬nh
- Táº¡o ná»™i dung (blog, review chi tiáº¿t)

---

## ğŸ” **MODERATOR** - Kiá»ƒm duyá»‡t viÃªn
**Permissions**: 5 permissions
```
âœ… Review View/Moderate
âœ… Content View/Edit/Delete
âŒ Business operations, System management
```

**CÃ³ thá»ƒ lÃ m**:
- Kiá»ƒm duyá»‡t vÃ  xÃ³a reviews khÃ´ng phÃ¹ há»£p
- Quáº£n lÃ½ ná»™i dung trÃªn website
- XÃ³a ná»™i dung vi pháº¡m

---

## âœï¸ **CONTENTCREATOR** - Táº¡o ná»™i dung
**Permissions**: 3 permissions
```
âœ… Content View/Create/Edit
âŒ Content Delete, Business operations
```

**CÃ³ thá»ƒ lÃ m**:
- Táº¡o vÃ  chá»‰nh sá»­a ná»™i dung
- Viáº¿t blog, articles
- KhÃ´ng thá»ƒ xÃ³a ná»™i dung

---

## ğŸ“Š **SO SÃNH Má»¨C Äá»˜ TRUY Cáº¬P**

### **Cáº¥p Ä‘á»™ 1: SYSTEM CONTROL**
- SuperAdmin (19 permissions)
- Admin (15 permissions)

### **Cáº¥p Ä‘á»™ 2: BUSINESS MANAGEMENT** 
- HotelManager (8 permissions)
- AttractionManager (7 permissions)  
- CarRentalManager (7 permissions)

### **Cáº¥p Ä‘á»™ 3: OPERATIONAL STAFF**
- CustomerService (7 permissions)
- HotelStaff (6 permissions)
- Moderator (5 permissions)

### **Cáº¥p Ä‘á»™ 4: CUSTOMERS**
- PremiumCustomer (11 permissions)
- Customer (9 permissions)

### **Cáº¥p Ä‘á»™ 5: SPECIALIZED**
- ContentCreator (3 permissions)

---

## ğŸš¨ **SECURITY NOTES**

### **Protected Actions**
- **System Management**: Chá»‰ SuperAdmin
- **User/Role Management**: SuperAdmin + Admin
- **Financial Operations**: Chá»‰ SuperAdmin
- **Create Business Resources**: Managers + Above
- **Delete Operations**: Restricted severely

### **Resource Ownership**
- Users cÃ³ thá»ƒ edit/delete resources mÃ  há» sá»Ÿ há»¯u
- Ownership Ä‘Æ°á»£c track qua `OwnerId` field
- Managers cÃ³ thá»ƒ override ownership trong domain cá»§a há»

### **Permission Inheritance**
- Role permissions Ä‘Æ°á»£c inherit tá»± Ä‘á»™ng
- Direct user permissions cÃ³ thá»ƒ Ä‘Æ°á»£c grant thÃªm
- Permissions cÃ³ thá»ƒ cÃ³ expiration date

---

## ğŸ”§ **CURRENT STATUS**

### **Attractions Module**
- âœ… Create/Edit/Delete functionality working
- âš ï¸ Permission checks temporarily disabled for testing
- âœ… Role-based access implemented but commented out

### **Next Steps**
1. Re-enable permission checks in AttractionsController
2. Test role-based access end-to-end
3. Implement resource ownership for attractions
4. Add audit logging for all operations
